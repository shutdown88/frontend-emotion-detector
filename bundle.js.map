{"version":3,"file":"bundle.js","sources":["../src/main.js"],"sourcesContent":["const emotionsMap = {\n  Angry: { icon: \"üò°\", name: \"Angry\" },\n  Disgust: { icon: \"ü§¢\", name: \"Disgust\" },\n  Fear: { icon: \"üò®\", name: \"Fear\" },\n  Happy: { icon: \"üòÑ\", name: \"Happy\" },\n  Neutral: { icon: \"üòê\", name: \"Neutral\" },\n  Sad: { icon: \"üôÅ\", name: \"Sad\" },\n  Surprise: { icon: \"üòÆ\", name: \"Surprise\" },\n};\n\nconst setEmotion = (emotion) => {\n  const text = document.querySelector(\".dominant-emotion\");\n  text.innerHTML = emotion ? `<h2>${emotion.name}</h2>` : \"\";\n\n  const container = document.querySelector(\".emotion-emoji\");\n  container.textContent = emotion ? emotion.icon : \"\";\n};\n\nconst onEmotion = (evt) => {\n  const {\n    output: { dominantEmotion },\n  } = evt.detail;\n\n  const emotion = dominantEmotion && emotionsMap[dominantEmotion];\n  setEmotion(emotion);\n};\n\nconst main = ({ start, stop }) => {\n  let running = false;\n\n  const startStopBtn = document.querySelector(\"#start-stop\");\n  startStopBtn.disabled = false;\n  startStopBtn.addEventListener(\"click\", () => {\n    if (running) {\n      stop();\n      startStopBtn.textContent = \"‚ñ∂Ô∏è\";\n      running = false;\n\n      setEmotion();\n\n      const mainContainer = document.querySelector(\".main-container\");\n      mainContainer.classList.remove(\"start\");\n    } else {\n      start()\n        .then(() => {\n          startStopBtn.disabled = false;\n          const mainContainer = document.querySelector(\".main-container\");\n          mainContainer.classList.add(\"start\");\n        })\n        .catch((err) => {\n          startStopBtn.disabled = false;\n          startStopBtn.textContent = \"‚ñ∂Ô∏è\";\n          running = false;\n          console.error(err);\n        });\n\n      startStopBtn.disabled = true;\n      startStopBtn.textContent = \"‚èπ\";\n      running = true;\n    }\n  });\n};\n\nconst video = document.querySelector(\"#video-player\");\nconst constraints = { audio: false, video: { width: 1920, height: 1080 } };\n\nCY.loader()\n  .source(CY.createSource.fromCamera({ constraints, video }))\n  .addModule(CY.modules().FACE_EMOTION.name)\n  .load()\n  .then(main);\n\nwindow.addEventListener(CY.modules().FACE_EMOTION.eventName, onEmotion);\n"],"names":["emotionsMap","Angry","icon","name","Disgust","Fear","Happy","Neutral","Sad","Surprise","setEmotion","emotion","document","querySelector","innerHTML","textContent","video","CY","loader","source","createSource","fromCamera","constraints","audio","width","height","addModule","modules","FACE_EMOTION","load","then","start","stop","running","startStopBtn","disabled","addEventListener","classList","remove","add","catch","err","console","error","window","eventName","evt","output","dominantEmotion","detail"],"mappings":"yBAAA,MAAMA,EAAc,CAClBC,MAAO,CAAEC,KAAM,KAAMC,KAAM,SAC3BC,QAAS,CAAEF,KAAM,KAAMC,KAAM,WAC7BE,KAAM,CAAEH,KAAM,KAAMC,KAAM,QAC1BG,MAAO,CAAEJ,KAAM,KAAMC,KAAM,SAC3BI,QAAS,CAAEL,KAAM,KAAMC,KAAM,WAC7BK,IAAK,CAAEN,KAAM,KAAMC,KAAM,OACzBM,SAAU,CAAEP,KAAM,KAAMC,KAAM,aAG1BO,EAAcC,IACLC,SAASC,cAAc,qBAC/BC,UAAYH,EAAU,OAAOA,EAAQR,YAAc,GAEtCS,SAASC,cAAc,kBAC/BE,YAAcJ,EAAUA,EAAQT,KAAO,IAgD7Cc,EAAQJ,SAASC,cAAc,iBAGrCI,GAAGC,SACAC,OAAOF,GAAGG,aAAaC,WAAW,CAAEC,YAHnB,CAAEC,OAAO,EAAOP,MAAO,CAAEQ,MAAO,KAAMC,OAAQ,OAGdT,MAAAA,KACjDU,UAAUT,GAAGU,UAAUC,aAAazB,MACpC0B,OACAC,MA3CU,EAAGC,MAAAA,EAAOC,KAAAA,MACrB,IAAIC,GAAU,EAEd,MAAMC,EAAetB,SAASC,cAAc,eAC5CqB,EAAaC,UAAW,EACxBD,EAAaE,iBAAiB,SAAS,KACrC,GAAIH,EAAS,CACXD,IACAE,EAAanB,YAAc,KAC3BkB,GAAU,EAEVvB,IAEsBE,SAASC,cAAc,mBAC/BwB,UAAUC,OAAO,cAE/BP,IACGD,MAAK,KACJI,EAAaC,UAAW,EACFvB,SAASC,cAAc,mBAC/BwB,UAAUE,IAAI,YAE7BC,OAAOC,IACNP,EAAaC,UAAW,EACxBD,EAAanB,YAAc,KAC3BkB,GAAU,EACVS,QAAQC,MAAMF,MAGlBP,EAAaC,UAAW,EACxBD,EAAanB,YAAc,IAC3BkB,GAAU,QAchBW,OAAOR,iBAAiBnB,GAAGU,UAAUC,aAAaiB,WAtD/BC,IACjB,MACEC,QAAQC,gBAAEA,IACRF,EAAIG,OAGRvC,EADgBsC,GAAmBhD,EAAYgD"}